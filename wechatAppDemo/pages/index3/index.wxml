<view class="container">
  <!-- 顶部标签栏 -->
  <view class="tab-bar">
    <button class="tab-btn {{activeTab === 'rank' ? 'active' : ''}}" bindtap="switchTab" data-tab="rank">排行榜</button>
    <button class="tab-btn {{activeTab === 'my' ? 'active' : ''}}" bindtap="switchTab" data-tab="my">我的成绩</button>
  </view>

  <!-- 排行榜列表 -->
  <view class="rank-content" wx:if="{{activeTab === 'rank'}}">
    <view class="rank-list">
      <view class="rank-header">
        <view class="header-col">排名</view>
        <view class="header-col">用户</view>
        <view class="header-col">分数</view>
      </view>

      <view class="rank-item" wx:for="{{rankList}}" wx:key="index" bindtap="goToMistakes" data-userid="{{item.userId}}">
        <view class="rank-num {{item.rank === 1 ? 'first' : (item.rank === 2 ? 'second' : (item.rank === 3 ? 'third' : 'normal'))}}">
        {{item.rank}}
        </view>

        <view class="rank-user">
          <view class="user-avatar">
            <image src="{{item.avatar || '/images/mine_icons/default_photo.png'}}" mode="aspectFit" />
          </view>
          <view class="user-name">{{item.name}}</view>
        </view>
        <view class="rank-score">{{item.score}}</view>
      </view>
    </view>
  </view>

  <!-- 我的成绩区域 -->
<view class="my-content" wx:if="{{activeTab === 'my'}}">
    <view class="my-card">
      <view class="my-header">
        <view class="my-avatar">
      <view style="width:100%;height:100%;background:#000;border-radius:50%;"></view>
    </view>
        <view class="my-name">张三</view>
      </view>
      <view class="my-stats-grid">
        <view class="stat-box">
          <view class="stat-value">{{myScore.score}}</view>
          <view class="stat-label">我的分数</view>
        </view>
        <view class="stat-box">
          <view class="stat-value">{{myScore.rank}}</view>
          <view class="stat-label">我的排名</view>
        </view>
        <view class="stat-box">
          <view class="stat-value">{{myScore.questionNum}}</view>
          <view class="stat-label">做题数量</view>
        </view>
        <view class="stat-box">
          <view class="stat-value">{{myScore.accuracy}}</view>
          <view class="stat-label">正确率</view>
        </view>
      </view>
    </view>
  </view>
</view>