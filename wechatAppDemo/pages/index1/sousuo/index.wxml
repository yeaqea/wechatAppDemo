<!-- wechatAppDemo/pages/sousuo/index.wxml -->
<view class="search-container">
  <!-- 搜索框 -->
  <view class="search-box">
    <input 
      type="text" 
      placeholder="请输入搜索内容" 
      class="search-input"
      focus="{{true}}"
      value="{{searchText}}"
      bindinput="onInput"
      bindconfirm="onSearch"
    />
    <button class="search-btn" bindtap="onSearch">搜索</button>
  </view>

  <!-- 搜索历史 -->
  <view class="history-section" wx:if="{{showHistory}}">
    <view class="history-header">
      <view class="history-title">搜索历史</view>
      <view class="clear-history" bindtap="clearHistory" wx:if="{{searchHistory.length > 0}}">清空</view>
    </view>
    <view class="history-tags">
      <view 
        class="history-tag" 
        wx:for="{{searchHistory}}" 
        wx:key="*this"
        bindtap="onHistoryItemTap"
        data-keyword="{{item}}"
      >
        {{item}}
      </view>
    </view>
  </view>

  <!-- 搜索结果 -->
  <view class="result-section" wx:if="{{showResult}}">
    <view class="result-title">搜索结果</view>
    <view class="result-list">
      <view class="result-item" wx:for="{{searchResult}}" wx:key="id" bindtap="goToDetail" data-id="{{item.id}}">
        <view class="result-title">{{item.title}}</view>
        <view class="result-desc">{{item.desc}}</view>
      </view>
    </view>
  </view>
</view>