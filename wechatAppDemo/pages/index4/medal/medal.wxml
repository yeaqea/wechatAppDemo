<!-- pages/medal/medal.wxml -->
<view class="medal-container">
  <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
  <view class="header">
    <view class="header-title">æˆ‘çš„å‹‹ç« </view>
  </view>

  <!-- å‹‹ç« ç»Ÿè®¡ -->
  <view class="stats-section">
    <view class="stat-item">
      <text class="stat-number">{{totalMedals}}</text>
      <text class="stat-label">æ€»å‹‹ç« æ•°</text>
    </view>
    <view class="stat-item">
      <text class="stat-number">{{earnedMedals}}</text>
      <text class="stat-label">å·²è·å¾—</text>
    </view>
    <view class="stat-item">
      <text class="stat-number">{{progress}}%</text>
      <text class="stat-label">æ”¶é›†è¿›åº¦</text>
    </view>
  </view>

  <!-- å‹‹ç« åˆ—è¡¨ -->
  <view class="medal-list">
    <view class="section-title">å…¨éƒ¨å‹‹ç« </view>
    
    <view class="medal-grid">
      <block wx:for="{{medalList}}" wx:key="id">
        <view class="medal-item {{item.earned ? 'earned' : 'locked'}}" bind:tap="onMedalTap" data-medal="{{item}}">
          <!-- å‹‹ç« å›¾æ ‡ -->
          <view class="medal-icon">
            <image wx:if="{{item.earned}}" src="{{item.icon}}" mode="aspectFit"></image>
            <image wx:else src="/images/mine_icons/medal/medal_locked.png" mode="aspectFit"></image>
            <view wx:if="{{!item.earned}}" class="lock-icon">ğŸ”’</view>
          </view>
          
          <!-- å‹‹ç« ä¿¡æ¯ -->
          <view class="medal-info">
            <text class="medal-name">{{item.name}}</text>
            <text class="medal-desc">{{item.description}}</text>
            <text class="medal-date" wx:if="{{item.earned}}">è·å¾—æ—¶é—´: {{item.earnedDate}}</text>
            <text class="medal-hint" wx:else>{{item.hint}}</text>
          </view>
          
          <!-- è·å¾—çŠ¶æ€ -->
          <view class="medal-status">
            <text wx:if="{{item.earned}}" class="status-earned">å·²è·å¾—</text>
            <text wx:else class="status-locked">æœªè·å¾—</text>
          </view>
        </view>
      </block>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:if="{{medalList.length === 0}}" class="empty-state">
    <image src="/images/mien_icons/medal/empty_medal.png" class="empty-image"></image>
    <text class="empty-text">æš‚æ— å‹‹ç« ï¼Œå¿«å»å®Œæˆä»»åŠ¡å§ï¼</text>
    <button class="empty-btn" bind:tap="goToTasks">å»åšä»»åŠ¡</button>
  </view>
</view>